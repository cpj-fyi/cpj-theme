{{!< default}}

{{!--
    Essays archive template
    Uses consistent layout matching five-things and radar feeds
--}}

<header class="archive-header">
    <div class="container">
        <h1 class="archive-title">Essays</h1>
        {{#if tag.description}}
            <p class="archive-description">{{tag.description}}</p>
        {{else}}
            <p class="archive-description">Longer pieces exploring ideas in depth.</p>
        {{/if}}
        {{#get "posts" filter="tag:essays" limit="100"}}
            <div class="archive-count">{{plural posts.length empty="No essays" singular="% essay" plural="% essays"}}</div>
        {{/get}}
    </div>
</header>

<div class="container">
    <div class="essays-layout">
        <div class="essays-main">
            {{#get "posts" filter="tag:essays" limit="100" include="tags,authors"}}
                {{#if posts}}
                    <div class="essays-grid">
                        {{#foreach posts}}
                            {{> "post-card-essay"}}
                        {{/foreach}}
                    </div>
                {{else}}
                    <p>No essays published yet.</p>
                {{/if}}
            {{/get}}
        </div>

        <aside class="sidebar">
            {{> "sidebar"}}
        </aside>
    </div>
</div>
